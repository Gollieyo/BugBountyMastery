# ðŸ’¥ Metasploit Auxiliary Modules

## Purpose
Metasploit provides a wide range of **auxiliary modules** designed to perform scanning, enumeration, brute-forcing, and other useful tasks during the reconnaissance and exploitation phases of a penetration test. These modules can help identify vulnerabilities, misconfigurations, and attack vectors on a target system.

## Tools

### 1. **POP3 Brute Force**
The **POP3 Brute Force** auxiliary module attempts to guess the password for a given POP3 service by brute-forcing a list of usernames and passwords.

#### Why It's Done:
- To gain unauthorized access to email accounts or retrieve sensitive information from POP3 services.
- POP3 servers often have weak or default credentials, making them a prime target for brute-force attacks.

#### How to Use:
```bash
use auxiliary/scanner/pop3/pop3_brute
set RHOSTS <target-ip>
set USER_FILE /path/to/userlist.txt
set PASS_FILE /path/to/passwordlist.txt
run
```
Additional POP3 Commands (Once Connected):
List all mailboxes:
```bash
list
```
Retrieve email by ID:
```bash
retr <email-id>
```
Delete email by ID:
```bash
dele <email-id>
```
Check current mailbox status:
```bash
stat
```

### 2. **HTTP Login Scanner**
The HTTP Login Scanner module attempts to brute-force login credentials on HTTP-based login forms.

#### Why It's Done:
- Web applications with login forms are often vulnerable to weak authentication.
- Brute-forcing allows attackers to gain access to sensitive areas of the application, potentially leading to unauthorized actions or data access.

#### How to Use:
```bash
use auxiliary/scanner/http/http_login
set RHOSTS <target-ip>
set TARGETURI /admin
set USER_FILE /path/to/userlist.txt
set PASS_FILE /path/to/passwordlist.txt
run
```
Tips:
- Always check for common login URIs (/admin, /login, /wp-admin) before starting.
- Adjust the timeout settings if you suspect a delay in responses from the server.

### 3. **FTP Brute Force**
The FTP Brute Force module targets FTP servers and attempts to guess usernames and passwords.

#### Why It's Done:
- FTP servers often have weak credentials that can be exploited.
- Gaining access to an FTP service can provide file system access and the potential to upload malicious files or steal sensitive data.

#### How to Use:
```bash
use auxiliary/scanner/ftp/ftp_login
set RHOSTS <target-ip>
set USER_FILE /path/to/userlist.txt
set PASS_FILE /path/to/passwordlist.txt
run
```
Additional FTP Commands (Once Connected):
List files in current directory:
```bash
ls
```
Change directory:
```bash
cd <directory-name>
```
Download a file:
```bash
get <file-name>
```
Upload a file:
```bash
put <file-name>
```
List all FTP users:
```bash
users
```
Get file content (for a downloaded file):
```bash
cat <file-name>
```

### 4. **SMB Enumeration**
The SMB Enumeration module helps gather information about the SMB (Server Message Block) service on a target system, which is commonly used for file and printer sharing.

#### Why It's Done:
- SMB shares may expose sensitive files or give attackers access to an internal network.
- By identifying SMB services, you can probe for shares, users, and vulnerabilities.

#### How to Use:
```bash
use auxiliary/scanner/smb/smb_version
set RHOSTS <target-ip>
run
```
Tips:
- After identifying SMB, you can use other modules to enumerate shares (smb_enumshares) or users (smb_enumusers).
- Always look for signs of SMB misconfigurations, such as open shares or weak user permissions.

### 5. **VNC Brute Force**
The VNC Brute Force auxiliary module attempts to guess passwords for Virtual Network Computing (VNC) services, often used for remote desktop access.

#### Why It's Done:
- VNC services may have weak authentication, allowing attackers to gain full control over a remote system.
- Brute-forcing can give unauthorized users access to graphical interfaces, exposing confidential data.

#### How to Use:
```bash
use auxiliary/scanner/vnc/vnc_login
set RHOSTS <target-ip>
set USER_FILE /path/to/userlist.txt
set PASS_FILE /path/to/passwordlist.txt
run
```
Tips:
- Common VNC passwords include password, 123456, and vncpassword.
- Use the vnc_version auxiliary module to determine the VNC version first, and look for known exploits.

### 6. **SMTP Brute Force**
The SMTP Brute Force module targets email servers running the Simple Mail Transfer Protocol (SMTP) and attempts to brute-force login credentials.

#### Why It's Done:
- SMTP services may allow unauthenticated access if weak passwords are used, leading to the potential for email interception or unauthorized sending of emails.
- Gaining access to an SMTP server could allow spammers or attackers to send emails from the target's domain.

#### How to Use:
```bash
use auxiliary/scanner/smtp/smtp_login
set RHOSTS <target-ip>
set USER_FILE /path/to/userlist.txt
set PASS_FILE /path/to/passwordlist.txt
run
```
Tips:
- Focus on common email usernames (e.g., admin, user@example.com).
- Ensure that the SMTP server allows authentication on port 25 (or others like 587/465).

### 7. **DNS Zone Transfer**
The DNS Zone Transfer auxiliary module attempts to retrieve the DNS zone file from a target DNS server, potentially revealing valuable information about subdomains, IP addresses, and other network details.

#### Why It's Done:
- A DNS zone transfer can expose detailed information about a domain's internal structure, including subdomains and mail servers, which can assist in further targeting or exploitation.
- Some misconfigured DNS servers allow unauthorized zone transfers, revealing sensitive network data.

#### How to Use:
```bash
use auxiliary/scanner/dns/dns_zone_transfer
set RHOSTS <target-dns-server>
set DOMAIN <target-domain>
run
```
Tips:
- Zone transfers are commonly restricted, but testing with public DNS servers (e.g., Googleâ€™s DNS at 8.8.8.8) may still yield useful results.
- You can combine zone transfers with subdomain enumeration tools to identify all hosts within a target domain.

## Tips for Working with Metasploit Auxiliary Modules

### Choose the Right Wordlist:
- Use wordlists specific to the service you are targeting. For example, an FTP wordlist may contain usernames like anonymous and ftpuser, while an HTTP wordlist may focus on common usernames like admin.
- Ensure your wordlist is large enough to cover a variety of possible passwords but not so large that it becomes inefficient.

### Scan First, Then Exploit:
- Use discovery modules like smb_version, http_version, or portscan to identify open services and versions before running brute-force attacks.
- Prioritize services with known vulnerabilities or those that have default credentials.

### Use Proxies for Anonymization:
- When running brute-force or scanning modules, consider using proxies like Burp Suite or Tor to anonymize your traffic and avoid detection.

### Avoid Overloading Servers:
- Be mindful of the number of connections you're opening. Too many threads may crash the service or alert administrators.
- Use the -t flag to limit the number of threads during brute-force attempts.

### Be Aware of Timeouts:
- Some services, like POP3 and SMTP, may have delayed responses during brute-forcing. Adjust your timeout or increase verbosity (set VERBOSE true) to better track the scan progress.

## References
- [Metasploit Framework GitHub](https://github.com/rapid7/metasploit-framework)
- [Metasploit Auxiliary Modules Documentation](https://docs.metasploit.com/docs/using-metasploit/basics/using-auxiliary-modules.html)
- [SecLists for Wordlists](https://github.com/danielmiessler/SecLists)
